<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket Transcripts</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Ticket Transcripts</h1>
        <p>Welcome to the ticket transcript archive. Below is a list of all ticket transcripts generated by the bot.</p>
        <div id="transcript-list">
            <!-- Transcripts will be dynamically loaded here -->
        </div>
    </div>

    <script>
        // Fetch and list all transcript files in the transcripts/ directory
        async function loadTranscripts() {
            try {
                // Note: GitHub Pages doesn't support server-side scripting, so we need to hardcode or use a static list
                // Alternatively, you can use GitHub API to fetch the list of files (requires JavaScript and API token)
                // For simplicity, we'll assume a static list here
                const transcripts = [
                    "transcript-ticket-closed-ticket-stef1671-20250404-123456.html",
                    "transcript-ticket-closed-ticket-user2-20250404-124000.html"
                    // Add more transcript filenames here or fetch dynamically
                ];

                const list = document.getElementById("transcript-list");
                transcripts.forEach(transcript => {
                    const link = document.createElement("a");
                    link.href = `transcripts/${transcript}`;
                    link.textContent = transcript;
                    link.className = "transcript-link";
                    list.appendChild(link);
                    list.appendChild(document.createElement("br"));
                });
            } catch (error) {
                console.error("Error loading transcripts:", error);
                document.getElementById("transcript-list").innerHTML = "<p>Error loading transcripts.</p>";
            }
        }

        // Load transcripts when the page loads
        window.onload = loadTranscripts;
    </script>
</body>
</html>
